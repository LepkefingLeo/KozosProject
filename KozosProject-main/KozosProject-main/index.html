<!DOCTYPE html>

<html>

<head>

    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />


    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
    <link rel="stylesheet" type="text/css" href="./src/css/common.css" />
    <link rel="stylesheet" type="text/css" href="./src/css/fonts.css" />
    <link rel="stylesheet" type="text/css" href="./src/css/BasePage.css" />





</head>

<body class="flex-column">

    <section class="base-page plannerSection d-flex flex-column m-0">
        
        <div class="blockWrapper position-relative">
            <p class="plannerTitle d-flex align-items-center position-absolute text-black">Event planner</p>
        </div>
        <div class="createEventCol d-flex flex-column">
            <p class="createEventText d-flex align-items-center justify-content-center text-center text-black">Create your event:</p>
            <div class="eventGridWrapper d-flex flex-column ms-auto">
                
                <div class="eventPlaceCard d-flex flex-column">
                    <p class="eventPlaceText d-flex align-items-center justify-content-center text-center text-black" style="margin-right: 80px;">Event Place:</p>                 
                    <select id="nameDropdown" name="cars" style="margin-left: 22%;">
                        <option value=""></option>
                        <option value="">Loading...</option>
                    </select>
                    
                <div class="eventPlaceCard d-flex flex-column">
                    <p class="eventPlaceText d-flex align-items-center justify-content-center text-center text-black" style="margin-right: 80px;">Event Price:</p>
                    <img id="priceImage" class="eventPlaceImage ms-auto" src="./src/BasePage/5d6637c4d4c7d6f2dbafb83f5f325f99.png" alt="alt text" />
                    <div>
                        <output id="priceImage">

                        </output>
                    </div>
                </div>

                <div class="eventPlaceCard1 d-flex flex-column">
                    <p class="eventPlaceText d-flex align-items-center justify-content-center text-center text-black" style="margin-left: 60px;">Place Satisfaction:</p>
                    <img  class="eventPlaceImage ms-auto" src="./src/BasePage/5d6637c4d4c7d6f2dbafb83f5f325f99.png" alt="alt text" />
                    <div>
                        <output id="rateImage">

                        </output>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <script>
        const dropdown = document.getElementById('nameDropdown');
        const priceImage = document.getElementById('priceImage');
        const rateImage = document.getElementById('rateImage');
      
        let eventData = [];
        let payValue = '';
        let rateValue = '';
      

        fetch('https://retoolapi.dev/UC5Gj6/data')
          .then(response => response.json())
          .then(data => {
            eventData = data;
            dropdown.innerHTML = '<option value="">Select an event place</option>';
      
            data.forEach(item => {
              const option = document.createElement('option');
              option.value = item.id;
              option.text = item.name;
              dropdown.appendChild(option);
            });
          })
          .catch(error => {
            dropdown.innerHTML = '<option>Error loading names</option>';
            console.error('Fetch error:', error);
          });
      
        dropdown.addEventListener('change', () => {
          const selectedId = parseInt(dropdown.value);
          const selectedItem = eventData.find(item => item.id === selectedId);
      
          if (selectedItem) {
            payValue = selectedItem.pay;
            rateValue = selectedItem.rate;
  
            console.log("Pay:", payValue);
            console.log("Rate:", rateValue);
          } else {
            
            payValue = '';
            rateValue = '';
          }
        });
      </script>
      


</body>

</html>